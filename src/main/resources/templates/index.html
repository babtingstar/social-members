<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title></title>
    <link rel="icon" href="/images/favicon.ico">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>
<div class="container">
    <h2>카카오톡 로그인</h2>
    <img id="kakaoLogin" src="images/kakao_login_medium_narrow.png">
</div>
<script>
    // ajax 로 get url 연결 스크립트 작성
    // kakao Dev 에서 application name = MyApp
    // Redirect URI = /login/oauth2/code/kakao
    // WEB URI = http://localhost:8085/

    // 필수 동의 항목 : 프로필정보(닉네임), 이름, 이메일
    // 추가 동의 항목 : 프로필사진, 성별
    $('#kakaoLogin').click(function () {
        $.ajax({
            // kakoLogin 버튼을 클릭했을 때 카카오톡 주소로 로그인 요청을 보내는 url 주소 설정 get
            url: '/auth/kakao/callback', // kakao 로 전달받은 url 로그인 주고받기
            method: 'get',
            success: function (data) {
                window.location.href = data;
            },
            error: function () {
                alert("카카오 로그인으로 이동하는데 문제가 발생했습니다.");
            }
        })
    })
</script>

</body>
</html>